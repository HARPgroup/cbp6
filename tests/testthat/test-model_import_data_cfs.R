context("model_import_data_cfs")
library(cbp6)
first_date <- as.Date("1984-10-01")
date <- first_date+c(0:365)
flow = signif(c(55.00003581,105.2900125,156.3434586,206.7622728,256.2510448,304.5263217,
         351.336471,396.4630255,439.946732,481.3730258,519.863006,555.5231664,
         588.3017799,618.0704981,644.5344135,666.9090145,685.8814924,
         576.0015688,184.4941769,108.2847326,82.27779112,77.20387096,110.2346349,
         173.7065752,173.2389061,129.7692564,107.2499792,96.11496081,89.04215063,
         81.79324844,73.30887945,71.0337375,79.0337496,75.25011854,71.17496135,
         96.76089231,112.2300641,96.36166305,84.82618814,87.66981017,80.17703937,
         79.48646766,84.66173221,77.5544724,70.16832653,66.83958221,73.53801193,
         71.93711164,77.41773479,1275.684897,311.1684109,195.855283,157.2905011,
         143.8110812,145.9488993,151.8195472,156.5878077,165.0793605,580.3400516,
         409.0563215,359.0084191,339.4928921,275.0823036,261.6591813,241.8450716,
         224.9140396,223.4110876,199.0504591,190.4021913,191.7567697,190.6806972,
         251.4393707,233.0905127,209.3881226,199.4522089,189.6650828,178.9081349,
         177.0506131,164.0368765,198.3518751,292.105353,313.9914742,274.3744295,
         235.0229926,215.3265668,256.6147227,274.2482223,247.1779861,239.8317096,
         223.7423752,213.3239462,395.2563925,322.720951,388.8951114,306.0553857,
         373.4585464,404.1795132,331.5830895,300.5888257,279.8140956,264.7384736,
         247.3128516,235.590666,221.6805734,204.824228,193.428437,186.6507011,
         172.4100982,164.7414499,151.5681975,143.6529637,139.1276809,125.4132462,
         116.5427835,108.2847141,101.1366269,95.57908118,91.47683919,83.03647861,
         79.29621889,70.72155959,67.09419573,114.8219761,265.9756652,214.3314347,
         116.2873774,80.00964473,87.68858005,159.6257532,155.8740807,107.3647416,
         75.83205914,61.90183859,118.6494793,1316.836434,566.9009328,188.1462337,
         110.2644209,85.55232832,255.5048313,914.5642439,756.8840879,1419.652088,
         1846.434238,1756.921067,1886.281872,2301.263025,2566.977005,1918.441512,
         852.7261491,512.5325021,379.8321121,336.4978561,326.1509336,316.704998,
         340.8672984,322.3496331,302.9259765,289.3684261,500.7347682,379.2783879,
         377.4855078,467.2946041,388.6496314,329.7969973,297.3181602,276.2492889,
         259.002171,244.0631619,228.7261142,213.8291856,203.3062323,307.0938925,
         398.2713859,375.2855949,302.0344738,255.713273,231.0449256,213.5019003,
         197.6831485,182.6928076,176.7317905,191.7428235,185.1425209,166.1063193,
         150.4681857,138.4294489,193.8691048,212.8242491,201.5475199,197.2960933,
         182.7118198,165.919603,150.1552146,137.7880445,127.2743488,121.8677287,
         116.0188566,106.1454142,95.80348992,87.46102059,80.20993886,73.85564803,
         68.22142446,63.29769551,59.25293905,56.34138347,55.01740055,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,55.00003581,
         55.00003581),digits=3)
data <- data.frame(date,flow)

riv.seg <- "BS4_8540_8441"
start.date <- "1984-10-01"
end.date <- "1985-10-01"
mod.phase <- "p532c-sova"
mod.scenario <- "p532cal_062211"

test_that(
  "tests model_import_data_cfs function with given inputs against known data for these inputs",
  {
    expect_equivalent(model_import_data_cfs(riv.seg, mod.phase, mod.scenario, start.date, end.date), data)
  }
)